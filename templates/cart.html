{% extends 'base.html' %}

{% block body %}
   <h1>My Melon Filled Shopping Cart </h1>
   
   <ul>
       {% for melon_id, quantity in session['cart'].items() %}
        <li> <strong>Melon:</strong> {{ melon_id | capitalize  }} <strong>Quantity:</strong>{{ quantity }}</li>
        {% endfor %}
    </ul>
    <table class="table table-striped mt-3">
        <thead>
           <tr>
              <th>Melon Name</th>
              <th>Quantity</th>
              <th>Price</th>
              <th>Total</th>
           </tr>
        </thead>
        <tbody>
            {% for melon in cart_melons%}
            <tr>
                <td>{{ melon.common_name }}</td>
                <td>{{ melon.quantity }}</td>
                <td>{{ "%0.2f" | format(melon.price) }}</td>
                <td>{{ "%0.2f" | format(melon.total_cost) }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <h3>Total: ${{ "%0.2f" | format(order_total) }}</h3>
    <a href="/empty-cart" class="btn btn-primary">Empty Cart</a>

{% endblock %}